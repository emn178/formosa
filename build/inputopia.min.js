/**
 * [inputopia]{@link https://github.com/emn178/inputopia}
 *
 * @version 0.2.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2016
 * @license MIT
 */
!function(t){"use strict";function e(t){return t.charAt(0).toUpperCase()+t.slice(1)}function n(t,e,n){p[e]||(p[e]={vendor:t}),u[t]||(u[t]={},l[t]={}),u[t][e]=n,l[t][e]={}}function i(){t("input:not([data-norender])").each(r)}function r(){var e=t(this),n=e.attr("type"),i=e.data("vendor")||p[n]&&p[n].vendor,r=u[i],a=r&&r[n];if(a&&a.render&&(!a.available||a.available===!0||a.available())){a.available=!0,e.data("norender",!0).data("type",n);var o=e.data("options")||l[i][n].options||p[n].options||{};a.render.call(this,o)}}function a(t){var n=t.shift();if(!s[n])return this;var i,r=t.length?"set":"get",a=r+e(n),o=this.eq(0),l=o.data("type");if(l){var d=o.data("vendor")||p[l]&&p[l].vendor,c=u[d][l];i=c[a]?c[a].apply(o[0],t):s[n].call(o,t)}else i=s[n].call(o,t);return"get"==r?i:this}function o(e){if(t(this).prop("readonly"))return e.stopPropagation(),!1}var p={},l={},u={},s={value:function(e){return console.log(e),t.fn.val.apply(this,e)},disabled:function(e){return e.unshift("disabled"),t.fn.prop.apply(this,e)},readonly:function(e){return e.unshift("readonly"),t.fn.prop.apply(this,e)}};t.fn.input=function(){return this.each(r),a.call(this,Array.prototype.slice.call(arguments,0))},t(document).on("ready page:load",function(){t("<style>"+inputopia.css+"</style>").appendTo("head"),setTimeout(i)}),window.inputopia=t.inputopia={_readonly:o,render:i,register:n,types:p,vendors:l}}(jQuery),inputopia.css=".kolor-picker-input{width:35px;height:30px;border:1px solid #000;text-indent:-999px;cursor:default}.kolor-picker-input:focus{outline-offset:0;outline:0}.kolor-picker-wrapper{position:relative;display:inline-flex;background-image:url(data:image/gif;base64,R0lGODlhDAAMAIABAMzMzP///yH5BAEAAAEALAAAAAAMAAwAAAIWhB+ph5ps3IMyQFBvzVRq3zmfGC5QAQA7)}.kolor-picker-readonly{display:none;position:absolute;top:0;left:0;width:35px;height:30px}.kolor-picker-input[readonly]+.kolor-picker-readonly{display:block;cursor:not-allowed}",function(t){var e=t();inputopia.register("kolor-picker","color",{available:function(){return t.fn.kolorPicker&&(t(document).on("page:before-unload",function(){e.length||(e=t(".cp-color-picker"))}),t(document).on("page:load",function(){e.length&&t("body").append(e)})),t.fn.kolorPicker},render:function(e){var n=t(this),i=e.onSelect;e.onSelect=function(t){n.val(t),i&&i.call(this,t)},n.addClass("kolor-picker-input").attr("autocomplete","off").attr("type","text").kolorPicker(e).wrap('<span class="kolor-picker-wrapper" />').after('<span class="kolor-picker-readonly" />')},setValue:function(e){t(this).kolorPicker("setColor",e)}})}(jQuery),function(t){t.fn.datepicker&&t.fn.datepicker.noConflict&&(t.fn.bootstrapDP=t.fn.datepicker.noConflict()),inputopia.register("jquery-ui","date",{available:function(){return t.fn.datepicker},render:function(e){var n=e.beforeShow;e.beforeShow=function(e,i){return!t(e).prop("readonly")&&void(n&&n.call(this,e,i))},t(this).attr("type","text").datepicker(e)}}),inputopia.register("bootstrap-datepicker","date",{available:function(){return t.fn.bootstrapDP},render:function(e){t(this).attr("type","text").on("mousedown",inputopia._readonly).bootstrapDP(e).mousedown()}})}(jQuery),function(t){inputopia.register("bootstrap-datetimepicker","datetime",{available:function(){return t.fn.datetimepicker},render:function(e){var n=t(this),i=t('<input type="hidden"/>').attr("name",n.attr("name")).val(n.val()).insertAfter(n);n.datetimepicker(e).data("hidden",i).removeAttr("name").attr("type","text").closest("form").submit(function(){i.val(moment(r.date()).format())});var r=n.data("DateTimePicker");r.date(new Date(i.val())),"static"==n.parent().css("position")&&n.parent().css("position","relative")},getValue:function(){return moment(t(this).data("DateTimePicker").date()).format()},setValue:function(e){t(this).data("DateTimePicker").date(new Date(e))},setDisabled:function(e){t(this).prop("disabled",e).data("hidden").prop("disabled",e)}})}(jQuery),function(t){inputopia.register("intl-tel","intl-tel",{available:function(){return t.fn.intlTelInput},render:function(e){var n=t(this),i=t('<input type="hidden"/>').attr("name",n.attr("name")).val(n.val()).insertAfter(n);n.intlTelInput(e),n.removeAttr("name").data("hidden",i).attr("type","tel").closest("form").submit(function(){i.val(n.intlTelInput("getNumber"))})},getValue:function(){return t(this).intlTelInput("getNumber")},setValue:function(e){t(this).intlTelInput("setNumber",e)},setDisabled:function(e){t(this).prop("disabled",e).data("hidden").prop("disabled",e)}})}(jQuery),function(t){inputopia.register("jquery-ui-month-picker","month",{available:function(){return t.fn.datepicker},render:function(e){t(this).attr("type","text").on("mousedown click",inputopia._readonly).MonthPicker(e)}})}(jQuery),function(t){function e(e,n,i){var r=t(e).prop(n,i).next();r.find("input").prop(n,i),r.find("a").toggle(!i)}inputopia.register("jquery-tags-input","tags",{available:function(){return t.fn.tagsInput},render:function(e){t(this).tagsInput(e)},setReadonly:function(t){e(this,"readonly",t)},setDisabled:function(t){e(this,"disabled",t)}}),inputopia.register("bootstrap-tags-input","tags",{available:function(){return t.fn.tagsinput},render:function(e){t(this).tagsinput(e)},setReadonly:function(e){var n=t(this).prop("readonly",e).prev();n.find("input").prop("readonly",e),n.find('[data-role="remove"]').toggle(!e)}})}(jQuery);